"use strict";(self.webpackChunksimorgh=self.webpackChunksimorgh||[]).push([[885],{"./src/app/containers/AVPlayer/index.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return containers_AVPlayer}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),react=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/react/index.js")),spacings=__webpack_require__("./node_modules/@bbc/gel-foundations/esm/spacings.js"),breakpoints=__webpack_require__("./node_modules/@bbc/gel-foundations/esm/breakpoints.js"),pathOr=__webpack_require__("./node_modules/ramda/src/pathOr.js"),pathOr_default=__webpack_require__.n(pathOr);var _templateObject,emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");var Wrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"enyy4ic2"})({name:"bjn8wh",styles:"position:relative"}),Overlay=(0,emotion_styled_base_browser_esm.Z)("div",{target:"enyy4ic1"})({name:"1mqrah",styles:".no-js &{display:none;}position:absolute;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center"}),spin=(0,emotion_react_browser_esm.F4)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Spinner=(0,emotion_styled_base_browser_esm.Z)("svg",{target:"enyy4ic0"})("width:64px;height:64px;stroke:currentColor;@media screen and (-ms-high-contrast: active){stroke:windowText;}will-change:transform;@media (prefers-reduced-motion: no-preference){animation:",spin," 1.1s 3 linear;}"),AudioLoader=function AudioLoader(_ref){var children=_ref.children,isLoading=_ref.isLoading;return react.createElement(Wrapper,null,isLoading&&react.createElement(Overlay,{"data-testid":"audio-loader-overlay","aria-hidden":"true"},react.createElement(Spinner,{xmlns:"http://www.w3.org/2000/svg",width:"38",height:"38",viewBox:"0 0 38 38",focusable:"false",stroke:"black"},react.createElement("g",{fill:"none",strokeWidth:"2",transform:"translate(1 1)"},react.createElement("circle",{strokeOpacity:"0.2",cx:"18",cy:"18",r:"18"}),react.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"})))),children)};AudioLoader.defaultProps={isLoading:!1},AudioLoader.__docgenInfo={description:"",methods:[],displayName:"AudioLoader",props:{isLoading:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},children:{type:{name:"element"},required:!0,description:""}}};var MediaPlayer_AudioLoader=AudioLoader;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/components/MediaPlayer/AudioLoader/index.jsx"]={name:"AudioLoader",docgenInfo:AudioLoader.__docgenInfo,path:"src/app/components/MediaPlayer/AudioLoader/index.jsx"});var MediaPlayer=__webpack_require__("./src/app/components/MediaPlayer/index.jsx"),RequestContext=__webpack_require__("./src/app/contexts/RequestContext/index.jsx"),ServiceContext=__webpack_require__("./src/app/contexts/ServiceContext/index.jsx"),AVPlayer_Wrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1a3lole1"})((function(props){return!props.hasBottomPadding&&"padding-bottom: ".concat(spacings.Ru,";")}),"@media (min-width: ",breakpoints.Ju,"){",(function(props){return!props.hasBottomPadding&&"padding-bottom: ".concat(spacings.RH,";")}),";}"),AVPlayer=function AVPlayer(_ref){var assetId=_ref.assetId,placeholderSrc=_ref.placeholderSrc,title=_ref.title,embedUrl=_ref.embedUrl,iframeTitle=_ref.iframeTitle,type=_ref.type,skin=_ref.skin,className=_ref.className,hasBottomPadding=_ref.hasBottomPadding,showLoadingImage=_ref.showLoadingImage,darkMode=_ref.darkMode,onMediaInitialised=_ref.onMediaInitialised,_useContext=(0,react.useContext)(ServiceContext.o),translations=_useContext.translations,service=_useContext.service,_useContext2=(0,react.useContext)(RequestContext.f),isAmp=_useContext2.isAmp,platform=_useContext2.platform,isValidPlatform=["amp","canonical"].includes(platform),mediaInfo={title:title,type:type},noJsMessage=pathOr_default()("This ".concat(mediaInfo.type," cannot play in your browser. Please enable JavaScript or try a different browser."),["media","noJs"],translations);return isValidPlatform&&assetId?react.createElement(AVPlayer_Wrapper,{hasBottomPadding:hasBottomPadding,className:className},isAmp?react.createElement(MediaPlayer.cu,{placeholderSrc:placeholderSrc,src:embedUrl,title:iframeTitle,skin:skin,noJsMessage:noJsMessage,service:service}):react.createElement(MediaPlayer.RT,{showPlaceholder:!1,showLoadingImage:showLoadingImage,darkMode:darkMode,src:embedUrl,title:iframeTitle,skin:skin,service:service,mediaInfo:mediaInfo,noJsMessage:noJsMessage,noJsClassName:"no-js",onMediaInitialised:onMediaInitialised})):null},AudioPlayer=(0,emotion_styled_base_browser_esm.Z)(AVPlayer,{target:"e1a3lole0"})("amp-iframe,div>iframe{width:calc(100% + ",spacings.Ru,");margin:0 -",spacings.xd,";@media (min-width: ",breakpoints.k3,"){width:calc(100% + ",spacings.my,");margin:0 -",spacings.Ru,";}}");AVPlayer.defaultProps={embedUrl:"",assetId:"",placeholderSrc:"",type:"",title:"",iframeTitle:"",className:"",skin:"classic",hasBottomPadding:!0,showLoadingImage:!1,darkMode:!1,onMediaInitialised:function onMediaInitialised(){}};var AVSelector=function AVSelector(props){var skin=props.skin,_useState=(0,react.useState)(!0),_useState2=(0,slicedToArray.Z)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];return"audio"===skin?react.createElement(MediaPlayer_AudioLoader,{isLoading:isLoading},react.createElement(AudioPlayer,(0,esm_extends.Z)({},props,{onMediaInitialised:function onMediaInitialised(){return setIsLoading(!1)}}))):react.createElement(AVPlayer,props)};AVSelector.defaultProps={skin:"classic"},AVSelector.__docgenInfo={description:"",methods:[],displayName:"AVSelector",props:{skin:{defaultValue:{value:"'classic'",computed:!1},type:{name:"enum",value:[{value:"'classic'",computed:!1},{value:"'audio'",computed:!1}]},required:!1,description:""}}};var containers_AVPlayer=AVSelector;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/containers/AVPlayer/index.jsx"]={name:"AVSelector",docgenInfo:AVSelector.__docgenInfo,path:"src/app/containers/AVPlayer/index.jsx"})}}]);