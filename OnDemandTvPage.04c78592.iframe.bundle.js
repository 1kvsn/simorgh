"use strict";(self.webpackChunksimorgh=self.webpackChunksimorgh||[]).push([[191],{"./src/app/pages/OnDemandTvPage/index.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return pages_OnDemandTvPage}});var pipe=__webpack_require__("./node_modules/ramda/src/pipe.js"),pipe_default=__webpack_require__.n(pipe),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),react=(__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/react/index.js")),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),spacings=__webpack_require__("./node_modules/@bbc/gel-foundations/esm/spacings.js"),pathOr=__webpack_require__("./node_modules/ramda/src/pathOr.js"),pathOr_default=__webpack_require__.n(pathOr),breakpoints=__webpack_require__("./node_modules/@bbc/gel-foundations/esm/breakpoints.js"),esm=__webpack_require__("./node_modules/@bbc/psammead-visually-hidden-text/esm/index.js"),utilities=__webpack_require__("./node_modules/@bbc/psammead-timestamp-container/esm/utilities/index.js"),ChartbeatAnalytics=__webpack_require__("./src/app/containers/ChartbeatAnalytics/index.jsx"),ComscoreAnalytics=__webpack_require__("./src/app/containers/ComscoreAnalytics/index.jsx"),ATIAnalytics=__webpack_require__("./src/app/containers/ATIAnalytics/index.jsx"),Grid=__webpack_require__("./src/app/components/Grid/index.jsx"),LinkedData=__webpack_require__("./src/app/containers/LinkedData/index.jsx"),Metadata=__webpack_require__("./src/app/containers/Metadata/index.jsx"),ServiceContext=__webpack_require__("./src/app/contexts/ServiceContext/index.jsx"),RequestContext=__webpack_require__("./src/app/contexts/RequestContext/index.jsx"),OnDemandHeading=__webpack_require__("./src/app/containers/OnDemandHeading/index.jsx"),OnDemandHeading_StyledTvHeadingContainer=(0,emotion_styled_base_browser_esm.Z)(OnDemandHeading.Z,{target:"e13e5rz60"})("@media (max-width: ",breakpoints.W7,"){padding:",spacings.xd," 0;}@media (min-width: ",breakpoints.Ju,"){padding:",spacings.Ru," 0;}"),OnDemandParagraph=__webpack_require__("./src/app/containers/OnDemandParagraph/index.jsx"),is=(__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/ramda/src/is.js")),is_default=__webpack_require__.n(is),FALLBACK_PLACEHOLDER_IMAGE_URL="".concat({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}.SIMORGH_PUBLIC_STATIC_ASSETS_ORIGIN).concat({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}.SIMORGH_PUBLIC_STATIC_ASSETS_PATH,"images/media_placeholder.png"),utils_getPlaceholderImageUrl=function getPlaceholderImageUrl(imageUrl){return imageUrl&&is_default()(String,imageUrl)?"https://".concat(imageUrl.replace("$recipe","1024x576")):FALLBACK_PLACEHOLDER_IMAGE_URL},getEmbedUrl=__webpack_require__("./src/app/lib/utilities/getUrlHelpers/getEmbedUrl/index.js"),AVPlayer=__webpack_require__("./src/app/containers/AVPlayer/index.jsx"),RecentVideoEpisodes=__webpack_require__("./src/app/containers/EpisodeList/RecentVideoEpisodes/index.jsx"),OnDemandFooterTimestamp=__webpack_require__("./src/app/containers/OnDemandFooterTimestamp/index.jsx"),getGroups=function getGroups(zero,one,two,three,four,five){return{group0:zero,group1:one,group2:two,group3:three,group4:four,group5:five}},StyledGelPageGrid=(0,emotion_styled_base_browser_esm.Z)(Grid.R2,{target:"e1im45se1"})("padding-bottom:",spacings.my,";@media (min-width: ",breakpoints.Ju,"){width:100%;}"),StyledVideoPlayer=(0,emotion_styled_base_browser_esm.Z)(AVPlayer.Z,{target:"e1im45se0"})("@media (min-width: ",breakpoints.Ju,"){margin:",spacings.oq," 0 0;}@media (max-width: ",breakpoints.W7,"){margin-top:",spacings.Ru,";}@media (max-width: ",breakpoints._V,"){margin:",spacings.Ru," -",spacings.Ru," 0;}@media (max-width: ",breakpoints.dR,"){margin:",spacings.xd," -",spacings.xd," 0;}"),OnDemandTvPage=function OnDemandTvPage(_ref){var pageData=_ref.pageData,mediaIsAvailable=_ref.mediaIsAvailable,MediaError=_ref.MediaError,language=pageData.language,headline=pageData.headline,shortSynopsis=pageData.shortSynopsis,brandTitle=pageData.brandTitle,releaseDateTimeStamp=pageData.releaseDateTimeStamp,masterBrand=pageData.masterBrand,episodeId=pageData.episodeId,imageUrl=pageData.imageUrl,promoBrandTitle=pageData.promoBrandTitle,thumbnailImageUrl=pageData.thumbnailImageUrl,durationISO8601=pageData.durationISO8601,recentEpisodes=pageData.recentEpisodes,episodeTitle=pageData.episodeTitle,mediumSynopsis=pageData.mediumSynopsis,_useContext=(0,react.useContext)(ServiceContext.o),lang=_useContext.lang,timezone=_useContext.timezone,datetimeLocale=_useContext.datetimeLocale,service=_useContext.service,translations=_useContext.translations,brandName=_useContext.brandName,isAmp=(0,react.useContext)(RequestContext.f).isAmp,location=(0,react_router.TH)(),formattedTimestamp=(0,utilities.w5)({timestamp:releaseDateTimeStamp,format:"LL",timezone:timezone,locale:datetimeLocale,isRelative:!1}),mediaId="".concat(service,"/").concat(masterBrand,"/").concat(episodeId,"/").concat(lang),embedUrl=(0,getEmbedUrl.Z)({mediaId:mediaId,type:"media",isAmp:isAmp,queryString:location.search}),iframeTitle=pathOr_default()("Video player",["mediaAssetPage","videoPlayer"],translations),hasRecentEpisodes=recentEpisodes&&Boolean(recentEpisodes.length),metadataTitle=episodeTitle?"".concat(brandTitle," - ").concat(episodeTitle," - ").concat(brandName):headline;return react.createElement(react.Fragment,null,react.createElement(ChartbeatAnalytics.Z,{data:pageData}),react.createElement(ATIAnalytics.Z,{data:pageData}),react.createElement(ComscoreAnalytics.Z,null),react.createElement(Metadata.Z,{title:metadataTitle,lang:language,description:shortSynopsis,openGraphType:"website"}),react.createElement(LinkedData.Z,{type:"WebPage",seoTitle:metadataTitle,entities:mediaIsAvailable?[{"@type":"VideoObject",name:promoBrandTitle,description:shortSynopsis,thumbnailUrl:thumbnailImageUrl,duration:durationISO8601,uploadDate:new Date(releaseDateTimeStamp).toISOString(),embedURL:embedUrl}]:[]}),react.createElement(StyledGelPageGrid,{as:"main",role:"main",columns:getGroups(6,6,6,6,8,20),enableGelGutters:!0},react.createElement(Grid.ZP,{item:!0,startOffset:getGroups(1,1,1,1,2,5),columns:getGroups(6,6,6,6,6,12),margins:getGroups(!0,!0,!0,!0,!1,!1)},react.createElement(esm.Z,{as:"h1",tabIndex:"-1",id:"content"},"".concat(brandTitle,", ").concat(formattedTimestamp)),mediaIsAvailable?react.createElement(StyledVideoPlayer,{embedUrl:embedUrl,assetId:episodeId,placeholderSrc:utils_getPlaceholderImageUrl(imageUrl),type:"video",title:"On-demand TV",iframeTitle:iframeTitle,hasBottomPadding:!1,skin:"classic",showLoadingImage:!0,darkMode:!0}):react.createElement(MediaError,{skin:"video"}),react.createElement(OnDemandHeading_StyledTvHeadingContainer,{brandTitle:brandTitle,releaseDateTimeStamp:releaseDateTimeStamp,episodeTitle:episodeTitle,darkMode:!0,ariaHidden:!0})),react.createElement(Grid.ZP,{item:!0,columns:getGroups(6,6,6,6,5,10),startOffset:getGroups(1,1,1,1,2,5),margins:getGroups(!0,!0,!0,!0,!1,!1)},react.createElement(OnDemandParagraph.Z,{text:episodeTitle?mediumSynopsis:shortSynopsis,darkMode:!0}),episodeTitle&&react.createElement(OnDemandFooterTimestamp.Z,{releaseDateTimeStamp:releaseDateTimeStamp,darkMode:!0}))),hasRecentEpisodes&&react.createElement(StyledGelPageGrid,{columns:getGroups(6,6,6,6,8,20),enableGelGutters:!0},react.createElement(Grid.ZP,{item:!0,startOffset:getGroups(1,1,1,1,2,5),columns:getGroups(6,6,6,6,6,12),margins:getGroups(!0,!0,!0,!0,!1,!1)},react.createElement(RecentVideoEpisodes.Z,{masterBrand:masterBrand,episodes:recentEpisodes}))))};OnDemandTvPage.__docgenInfo={description:"",methods:[],displayName:"OnDemandTvPage",props:{MediaError:{type:{name:"func"},required:!0,description:""},mediaIsAvailable:{type:{name:"bool"},required:!0,description:""},pageData:{type:{name:"shape",value:{language:{name:"string",required:!1},headline:{name:"string",required:!1},shortSynopsis:{name:"string",required:!1},mediumSynopsis:{name:"string",required:!1},brandTitle:{name:"string",required:!1},releaseDateTimeStamp:{name:"number",required:!1},masterBrand:{name:"string",required:!1},episodeId:{name:"string",required:!1},imageUrl:{name:"string",required:!1},promoBrandTitle:{name:"string",required:!1},thumbnailImageUrl:{name:"string",required:!1},durationISO8601:{name:"string",required:!1},episodeTitle:{name:"string",required:!1}}},required:!0,description:""}}};var OnDemandTvPage_OnDemandTvPage=OnDemandTvPage;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/pages/OnDemandTvPage/OnDemandTvPage.jsx"]={name:"OnDemandTvPage",docgenInfo:OnDemandTvPage.__docgenInfo,path:"src/app/pages/OnDemandTvPage/OnDemandTvPage.jsx"});var applyBasicPageHandlers=__webpack_require__("./src/app/pages/utils/applyBasicPageHandlers.js"),withMediaError=__webpack_require__("./src/app/lib/utilities/episodeAvailability/withMediaError/index.jsx"),pages_OnDemandTvPage=pipe_default()(withMediaError.Z,(0,applyBasicPageHandlers.Z)({addVariantHandling:!1}))(OnDemandTvPage_OnDemandTvPage)}}]);